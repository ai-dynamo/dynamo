docs: &docs
  - 'docs/**'
  - '**/*.md'
  - '**/*.rst'
  - '**/*.txt'

ci: &ci
  - '.github/workflows/**'
  - '.github/filters.yaml'
  - '.github/actions/**'

core_code: &core_code
  - 'lib/**'
  - 'tests/**'
  - 'components/src/dynamo/router/**'
  - 'components/src/dynamo/mocker/**'
  - 'components/src/dynamo/frontend/**'
  - 'components/src/dynamo/common/**'
  - '*.toml'
  - '*.lock'
  - '*.py'
  - '*.rs'
  - '!**/*.md' # Avoid running on doc changes
  - '!**/*.rst' # Avoid running on doc changes
  - '!**/*.txt' # Avoid running on doc changes

core_container: &core_container
  - 'container/build.sh'
  - 'container/deps/*'

operator: &operator
  - 'deploy/cloud/operator/**'

deploy:
  - *operator
  - 'deploy/cloud/helm/**'
  - 'deploy/utils/**'

planner:
  - 'components/src/dynamo/planner/**'
  - 'tests/planner/**'

vllm_code: &vllm_code
  - *core_code
  - 'examples/backends/vllm/**'
  - 'components/src/dynamo/vllm/**'

vllm_container: &vllm_container
  - *core_container
  - 'container/Dockerfile.vllm'
  - 'container/deps/requirements.vllm.txt'
  - 'container/deps/vllm/**'

vllm_all:
  - *vllm_code
  - *vllm_container

sglang_code: &sglang_code
  - *core_code
  - 'examples/backends/sglang/**'
  - 'components/src/dynamo/sglang/**'

sglang_container: &sglang_container
  - *core_container
  - 'container/Dockerfile.sglang'

sglang_all:
  - *sglang_code
  - *sglang_container

trtllm_code: &trtllm_code
  - *core_code
  - 'examples/backends/trtllm/**'
  - 'components/src/dynamo/trtllm/**'
  
trtllm_container: &trtllm_container
  - *core_container
  - 'container/Dockerfile.trtllm'
  - 'container/build_trtllm_wheel.sh'
  - 'container/deps/trtllm/**'

trtllm_all:
  - *trtllm_code
  - *trtllm_container