<｜begin▁of▁sentence｜>You are a helpful Assistant.

## Tools

You have access to a set of tools you can use to answer the user's question.
You can invoke functions by writing a "<｜DSML｜function_calls>" block like the following as part of your reply to the user:
<｜DSML｜function_calls>
<｜DSML｜invoke name="$FUNCTION_NAME">
<｜DSML｜parameter name="$PARAMETER_NAME" string="true|false">$PARAMETER_VALUE</｜DSML｜parameter>
...
</｜DSML｜invoke>
<｜DSML｜invoke name="$FUNCTION_NAME2">
...
</｜DSML｜invoke>
</｜DSML｜function_calls>

String and scalar parameters should be specified as is without any escaping or quotes, while lists and objects should use JSON format. The "string" attribute should be set to "true" for string type parameters and "false" for other types (numbers, booleans, arrays, objects).

If the thinking_mode is enabled, then after function results you should strongly consider outputting a thinking block. Here is an example:

<｜DSML｜function_calls>
...
</｜DSML｜function_calls>

<function_results>
...
</function_results>

<think>...thinking about results</think>

Here are the functions available in JSONSchema format:
<functions>
{"name": "get_datetime", "description": "Get the current date and time", "parameters": {"type": "object", "properties": {"timezone": {"type": "string", "description": "The timezone, e.g. America/New_York, UTC"}}, "required": ["timezone"]}}
{"name": "get_weather", "description": "Get the weather for a specific date and location", "parameters": {"type": "object", "properties": {"location": {"type": "string", "description": "The city name, e.g. New York, San Francisco"}, "date": {"type": "string", "description": "The date in YYYY-MM-DD format"}}, "required": ["location", "date"]}}
</functions>
<｜User｜>What's the weather tomorrow in San Francisco and New York?<｜Assistant｜></think>

<｜DSML｜function_calls>
<｜DSML｜invoke name="get_datetime">
<｜DSML｜parameter name="timezone" string="true">America/New_York</｜DSML｜parameter>
</｜DSML｜invoke>
</｜DSML｜function_calls><｜end▁of▁sentence｜>

<function_results>
<result>{"current_date": "2024-01-15", "current_time": "14:30:00", "timezone": "America/New_York"}</result>
</function_results>

</think>

<｜DSML｜function_calls>
<｜DSML｜invoke name="get_weather">
<｜DSML｜parameter name="location" string="true">San Francisco</｜DSML｜parameter>
<｜DSML｜parameter name="date" string="true">2024-01-16</｜DSML｜parameter>
</｜DSML｜invoke>
<｜DSML｜invoke name="get_weather">
<｜DSML｜parameter name="location" string="true">New York</｜DSML｜parameter>
<｜DSML｜parameter name="date" string="true">2024-01-16</｜DSML｜parameter>
</｜DSML｜invoke>
</｜DSML｜function_calls><｜end▁of▁sentence｜>

<function_results>
<result>{"location": "San Francisco", "date": "2024-01-16", "temperature_high": "65", "temperature_low": "55", "weather": "partly cloudy", "humidity": "70%"}</result>
<result>{"location": "New York", "date": "2024-01-16", "temperature_high": "28", "temperature_low": "15", "weather": "sunny", "humidity": "35%"}</result>
</function_results>

</think>Based on the forecast, here's tomorrow's weather (January 16, 2024):

**San Francisco**:
- Weather: Partly cloudy
- High: 65°F
- Low: 55°F
- Humidity: 70%

**New York**:
- Weather: Sunny
- High: 28°F
- Low: 15°F
- Humidity: 35%

San Francisco will be mild and partly cloudy, while New York will be cold but sunny. If you're in New York, dress warmly!<｜end▁of▁sentence｜><｜User｜>Thanks! What about the day after tomorrow?<｜Assistant｜><think>User is now asking about the day after tomorrow, which is 2024-01-17. I can query directly since I already know today's date.</think>

<｜DSML｜function_calls>
<｜DSML｜invoke name="get_weather">
<｜DSML｜parameter name="location" string="true">San Francisco</｜DSML｜parameter>
<｜DSML｜parameter name="date" string="true">2024-01-17</｜DSML｜parameter>
</｜DSML｜invoke>
<｜DSML｜invoke name="get_weather">
<｜DSML｜parameter name="location" string="true">New York</｜DSML｜parameter>
<｜DSML｜parameter name="date" string="true">2024-01-17</｜DSML｜parameter>
</｜DSML｜invoke>
</｜DSML｜function_calls><｜end▁of▁sentence｜>

<function_results>
<result>{"location": "San Francisco", "date": "2024-01-17", "temperature_high": "68", "temperature_low": "58", "weather": "light rain", "humidity": "85%"}</result>
<result>{"location": "New York", "date": "2024-01-17", "temperature_high": "32", "temperature_low": "22", "weather": "cloudy", "humidity": "50%"}</result>
</function_results>

<think>Got the weather data for the day after tomorrow. Let me format this for the user.</think>Here's the forecast for the day after tomorrow (January 17, 2024):

**San Francisco**:
- Weather: Light rain
- High: 68°F
- Low: 58°F
- Humidity: 85%

**New York**:
- Weather: Cloudy
- High: 32°F
- Low: 22°F
- Humidity: 50%

San Francisco will have light rain with temperatures rising slightly, so bring an umbrella. New York will be a bit warmer but still cold and cloudy, so continue to bundle up.<｜end▁of▁sentence｜>
