# SPDX-FileCopyrightText: Copyright (c) 2024-2026 NVIDIA CORPORATION & AFFILIATES. All rights reserved.
# SPDX-License-Identifier: Apache-2.0

# Core runtime dependencies shared by ALL Dynamo containers.
#
# Version Pinning Strategy:
# - Use == for packages that are pure Python and well-tested
# - Use <= or < for packages that may have platform-specific versions (CUDA, system packages)
# - Never use >= as it allows untested future versions that may introduce breaking changes,
#   create non-reproducible builds, and cause dependency conflicts. Every installed version
#   should be explicitly tested, not an unknown future release.
# - Platform differences: Some packages (especially CUDA-related) may have different
#   maximum versions available on different platforms (x86_64 vs aarch64, different CUDA versions)

fastapi==0.120.1
grpcio-tools<=1.76.0  # May have platform-specific builds; pins grpcio ecosystem version
httpx==0.28.1
msgspec==0.19.0
nvidia-ml-py<=13.580.65  # NVIDIA/CUDA related, may vary by driver version
opentelemetry-api<=1.38.0  # Optional for all frameworks; pinned for tracing support
opentelemetry-exporter-otlp<=1.38.0
opentelemetry-sdk<=1.38.0
protobuf>=5.29.5,<7.0.0
prometheus_client==0.23.1
pydantic>=2.11.4,<2.13
pydantic-settings<2.13.0
PyYAML==6.0.3
tensorboard>=2.19.0,<2.21.0
tensorboardX==2.6.2.2
# Transformers version constraint for container builds
# - vLLM 0.11.0: >=4.55.2, vLLM 0.11.2: >=4.56.0,<5
# - TensorRT-LLM 1.3.0rc5: ==4.57.1
# - SGLang 0.5.8: ==4.57.1
# Using >=4.56.0 to satisfy all frameworks
transformers>=4.56.0
uvicorn==0.38.0
